<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Desafio Labsec (SGC): ThirdMilestone Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Desafio Labsec (SGC)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classThirdMilestone-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ThirdMilestone Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b> Third Milestone - x.509 Certificates</b>  
 <a href="classThirdMilestone.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ThirdMilestone_8h_source.html">ThirdMilestone.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7438787d206a0a26665eee284e38d652"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#a7438787d206a0a26665eee284e38d652">~ThirdMilestone</a> ()</td></tr>
<tr class="separator:a7438787d206a0a26665eee284e38d652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8cb73643bdaddbf3bb965167e72996c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#ab8cb73643bdaddbf3bb965167e72996c">setCommonName</a> (CertificateBuilder &amp;builder, const char *cn)</td></tr>
<tr class="separator:ab8cb73643bdaddbf3bb965167e72996c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c28ffe134f50fb70aa13a47d20bcef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#a85c28ffe134f50fb70aa13a47d20bcef">createCertificates</a> (KeyPair &amp;rootCaKeyPair, KeyPair &amp;userKeyPair)</td></tr>
<tr class="separator:a85c28ffe134f50fb70aa13a47d20bcef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abcdcd2ae050baf28b0ef35e9ef6762b5"><td class="memItemLeft" align="right" valign="top">const long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#abcdcd2ae050baf28b0ef35e9ef6762b5">serial</a> = 12345678</td></tr>
<tr class="separator:abcdcd2ae050baf28b0ef35e9ef6762b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ebc358a7a076b37feadc37845ad3198"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#a7ebc358a7a076b37feadc37845ad3198">commonName</a> = &quot;yourName&quot;</td></tr>
<tr class="separator:a7ebc358a7a076b37feadc37845ad3198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0888213dba29a49cf4fbe8d1b544bcae"><td class="memItemLeft" align="right" valign="top">const long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#a0888213dba29a49cf4fbe8d1b544bcae">rootCaSerial</a> = 1</td></tr>
<tr class="separator:a0888213dba29a49cf4fbe8d1b544bcae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d2030b18ec9be93f9877076b353e1e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#a75d2030b18ec9be93f9877076b353e1e">rootCaCommonName</a> = &quot;ROOT-CA&quot;</td></tr>
<tr class="separator:a75d2030b18ec9be93f9877076b353e1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab236ddd0b67594b3386cdb796549a10"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#aab236ddd0b67594b3386cdb796549a10">time1</a> = &quot;1501010000000&quot;</td></tr>
<tr class="separator:aab236ddd0b67594b3386cdb796549a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa54dd9fa1758189fc21f2c773fdb3180"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#aa54dd9fa1758189fc21f2c773fdb3180">time2</a> = &quot;1502010000000&quot;</td></tr>
<tr class="separator:aa54dd9fa1758189fc21f2c773fdb3180"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb883b7586062f07e93a1d190f9383f"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#a7eb883b7586062f07e93a1d190f9383f">time3</a> = &quot;1602010000000&quot;</td></tr>
<tr class="separator:a7eb883b7586062f07e93a1d190f9383f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03273e9061bf24f937ec08bf992be617"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classThirdMilestone.html#a03273e9061bf24f937ec08bf992be617">time4</a> = &quot;2001010000000&quot;</td></tr>
<tr class="separator:a03273e9061bf24f937ec08bf992be617"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b> Third Milestone - x.509 Certificates</b> </p>
<p>From now on, milestones may get harder. For this milestone, you will create two Certificates. The first one for the Root Certification Authority and the second is for yourself. The Root CA's certificate is <b>self signed</b>, meaning it will use its own Private Key to sign its certificate. Your certificate will be signed by the Root CA's Private Key as well. You should read about Public Key Infrastructure to better understand about this next task. </p>
<ul>
<li>Define <b>serial</b> and <b>commonName</b> variables as instructed below;<br />
</li>
<li>Implement the <b>setCommonName</b> function using RNDSequence;<br />
</li>
<li>Implement the <b>createCertificates</b> function;<br />
</li>
<li>Use <b>CertificateBuilder</b> from Libcryptosec to build and sign the certificates;<br />
</li>
<li>Write both certificates to file using PEM format;<br />
 -paths::userCertificatePath;<br />
 -paths::rootCaCertificatePath;<br />
</li>
<li>Certificates must have Subject, Issuer, Serial, NotBefore, NotAfter and a public key.</li>
</ul>
<p>Tips: The <b>Subject</b> of a x.509 certificate is a sequence of fields {Common Name, Country, Organization, ...}. For this milestone, you need only to add the Common Name entry to the data structure (RDNSequence). <br />
</p>
<p>The <b>Issuer</b> of a certificate is the subject of the certificate used to sign it. For a ROOT Certification Authority, the issuer is its own subject. For you certificate, the issuer will be the subject of the Root CA.<br />
</p>
<p>The <b>NotBefore</b> and <b>NotAfter</b> fields are used to determine whetheri the certificate is valid or not.</p>
<dl class="section see"><dt>See also</dt><dd>libcryptosec/RDNSequence </dd>
<dd>
libcryptosec/CertificateBuilder </dd>
<dd>
libcryptosec/KeyPair</dd></dl>
<p><b>SELF EVALUATION</b> (Requires previous milstones to run)<br />
 In evaluation folder run '$make third'.</p>
<dl class="section author"><dt>Author</dt><dd>{Lucas Perin} </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7438787d206a0a26665eee284e38d652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7438787d206a0a26665eee284e38d652">&#9670;&nbsp;</a></span>~ThirdMilestone()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ThirdMilestone::~ThirdMilestone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a85c28ffe134f50fb70aa13a47d20bcef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c28ffe134f50fb70aa13a47d20bcef">&#9670;&nbsp;</a></span>createCertificates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThirdMilestone::createCertificates </td>
          <td>(</td>
          <td class="paramtype">KeyPair &amp;&#160;</td>
          <td class="paramname"><em>rootCaKeyPair</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KeyPair &amp;&#160;</td>
          <td class="paramname"><em>userKeyPair</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO Implement this function in the cpp file. </p>
<p>TODO(milestone3):</p><ul>
<li>create Root Ca Self Signed Certificate;</li>
<li>create your certificate issued and signed by Root CA. You are allowed to create new functions to keep your code clean.</li>
</ul>

</div>
</div>
<a id="ab8cb73643bdaddbf3bb965167e72996c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8cb73643bdaddbf3bb965167e72996c">&#9670;&nbsp;</a></span>setCommonName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ThirdMilestone::setCommonName </td>
          <td>(</td>
          <td class="paramtype">CertificateBuilder &amp;&#160;</td>
          <td class="paramname"><em>builder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO Implement this function in the cpp file. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7ebc358a7a076b37feadc37845ad3198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ebc358a7a076b37feadc37845ad3198">&#9670;&nbsp;</a></span>commonName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ThirdMilestone::commonName = &quot;yourName&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO define commonName as you name. </p>

</div>
</div>
<a id="a75d2030b18ec9be93f9877076b353e1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75d2030b18ec9be93f9877076b353e1e">&#9670;&nbsp;</a></span>rootCaCommonName</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* ThirdMilestone::rootCaCommonName = &quot;ROOT-CA&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0888213dba29a49cf4fbe8d1b544bcae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0888213dba29a49cf4fbe8d1b544bcae">&#9670;&nbsp;</a></span>rootCaSerial</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const long ThirdMilestone::rootCaSerial = 1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Root CA subject. </p>

</div>
</div>
<a id="abcdcd2ae050baf28b0ef35e9ef6762b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcdcd2ae050baf28b0ef35e9ef6762b5">&#9670;&nbsp;</a></span>serial</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const long ThirdMilestone::serial = 12345678</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO define serial as your enrollment number. </p>

</div>
</div>
<a id="aab236ddd0b67594b3386cdb796549a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab236ddd0b67594b3386cdb796549a10">&#9670;&nbsp;</a></span>time1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string ThirdMilestone::time1 = &quot;1501010000000&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UTCtime to use for NotBefore and NotAfter. (YYMMDDHHMMSSZ) </p>

</div>
</div>
<a id="aa54dd9fa1758189fc21f2c773fdb3180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa54dd9fa1758189fc21f2c773fdb3180">&#9670;&nbsp;</a></span>time2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string ThirdMilestone::time2 = &quot;1502010000000&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7eb883b7586062f07e93a1d190f9383f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb883b7586062f07e93a1d190f9383f">&#9670;&nbsp;</a></span>time3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string ThirdMilestone::time3 = &quot;1602010000000&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a03273e9061bf24f937ec08bf992be617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03273e9061bf24f937ec08bf992be617">&#9670;&nbsp;</a></span>time4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string ThirdMilestone::time4 = &quot;2001010000000&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/milestones/<a class="el" href="ThirdMilestone_8h_source.html">ThirdMilestone.h</a></li>
<li>src/milestones/<a class="el" href="ThirdMilestone_8cpp.html">ThirdMilestone.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
